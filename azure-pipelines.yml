trigger:
- master

name: 
jobs:
- job: Windows_Legacy
  strategy:
    matrix:
      x86:
        platform: Win32
        toolset: v142
        artifact-prefix: 'vgmtrans'
        image-name: 'windows-2019'
  pool:
    vmImage: $(image-name)
  steps:
  - task: VSBuild@1
    inputs:
      solution: 'VGMTrans_WTL.sln'
      platform: 'Win32'
      configuration: 'Release'
    displayName: 'Compile the VGMTrans solution'
  - task: PublishBuildArtifacts@1
    inputs:
        pathtoPublish: $(Build.ArtifactStagingDirectory)
        artifactName: $(artifact-prefix)-$(platform)
    